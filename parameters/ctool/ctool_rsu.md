# C-Tool RSU参数

粗轧区域的C-Tool参数分类如下图所示。

|       分类       |          英文全称          |    翻译    |  副表  |         主要内容         |
| :------------: | :--------------------: | :------: | :--: | :------------------: |
|      RAMP      |   RM  MAP  parameter   |  粗轧策略表   |  2   |   道次，载荷分布，压下量，速度等    |
|      RPRP      | RM Product   parameter |  粗轧参数表   |  8   |    中间坯厚度，宽度补偿，缩颈等    |
|   RSPP/RSCD    | RM  Spray code  table  | 粗轧工艺水参数表 |  2   |    工艺水使用设定，代码设定等     |
| RDRP/RMCP/RMGP |   RM Model parameter   | 粗轧模型参数表  |  8   |   算轧制力、辊缝、前后滑的系数等    |
|      RESS      |    RE Short Stroken    | 粗轧短行程参数表 |  5   |       短行程参数设定等       |
| RAMP/RLFP/RLFW |  RM adaptive learning  |  粗轧自学习表  |  16  | 粗轧所有自学习值表（根据特定条件划分）等 |

## C-TOOL副表详细参数说明

### RSU1601_Rolling_Map

相关参数：

- Loading Pattern(载荷分布） 
- Entry Speed（咬入速度）
- Run_Speed（轧制速度）
- Side Guide(导卫道次对中投用)。

消化内容：

Loading Pattern:包含平辊及立辊载荷分配。1.0为百分百，其他数值均与1.0成比例关系。总减宽量及道次设定做为数据筛选条件。其中载荷分配数据默认根据前道次压下量大、后道次压下量小的原则。

Entry Speed:咬入角检查（入口速度受限于咬入角限制），并通过表RAMP电机和操作极限进行检查。

Run Speed:初始机架电机运行转速为电机最大转速。用这个速度初步计算轧辊咬钢扭矩后，为请求力矩计算最大速度，并再次确定轧制速度是否高于运行速度。如果操作工在HMI手动输入一个运行速度，该速度就是最终的运行速度。

Side Guide:可对每道次导卫是否对中进行设定，模型参数表中“0”代表该道次导卫不对中；“1”代表该道次导卫对中。

### RSU1802_Transfer_Bar_Thick

相关参数：

Transfer Bar Thickness（中间坯厚度设定）。

消化内容：

对粗轧中间坯的厚度按钢种规格进行分档。通过查询检索模型表内对应中间坯厚度对RSUC的辊缝进行设定计算，并检查中间坯的厚度极限是否满足要求。中间坯厚度数值设定原则主要从带钢出炉温度、在线温降及精轧出口厚度几方面考虑。同成品宽度下，成品厚度越薄，考虑精轧机负荷能力，中间坯厚度越薄。

### RSU1806_SprayPatternCode

相关参数：

Spy-Code（喷淋代码设定）

消化内容：

该表主要针对钢种组设定喷淋代码，每组喷淋代码对应粗轧除鳞策略。

### RSU1806_Descaling

相关参数：

RM-Descaling Spray(粗轧除鳞道次设定）

消化内容：

该模型表主要针对粗轧除鳞提供了20套方案，每套方案可自行调整除鳞道次。Pass1-Pass11代表粗轧各轧制道次，“1”代表该道次投用除鳞，“0”代表各道次未投用除鳞。操作人员可以直接在二级PDI信息中对除鳞代码进行选择设定。

### RSU1903_RmDefomModel

相关参数：

R1/2，E1/2变形抗力系数：$a_1$,$a_2$,$a_3$,$a_4$,$a_{4\_1}$,$a_{4\_2}$,$a_{4\_3}$...（其中给定变形抗力系数与钢种C含量有直接关系）

消化内容：

根据公式对每道次带钢变形抗力进行计算，表内变形抗力系数参与计算。程序内公式：

```c
  p_km = r_table.km_a1 * pow(*p_ks,(double)r_table.km_a2)

         * pow(*p_kd,(double)r_table.km_a3)

         - exp(A4+ A5 / abstmp_k);
```

### RSU1904_RmForceModel

相关参数：

E1/E2/F1E轧制力计算系数，水平辊R1/R2轧制力计算不参与该公式。

消化内容：

轧制力计算公式在GFC与程序中均已找到（ROLL BITE.CXX文件），其中轧制力计算与Ldi接触弧长、hmi平均厚度、Bmi入出口宽度、自学习参数有关。

### RSU1905_RmTorque

相关参数：

粗轧电机扭矩系数（cg，bg，eta）。

消化内容：

该表与钢种组无关，其中通过粗轧电机扭矩系数（cg,bg)、平均厚度(hmi)、接触弧长(Ldi)计算扭矩臂系数(入ai)，最终通过扭矩臂系数、自学习系数等计算出该道次扭矩。程序内公式(roll bite.cxx)：

```c
hm = (p_hi + 2.0 * p_ho) / 3.0;

*p_rmd = r_table.g_cg + r_table.g_bg * hm /p_ld;

*p_g = 2.0 * p_p * p_ld *(*p_rmd) * ( Physcon.kgpt_lbpt_knpkn / Physcon.mmpm_inpft );
```



### RSU1906_RMSlipModel

相关参数：

前后滑系数（af,bf,cf,alp)。

消化内容：

该表未按钢种、规格分类，表内af,bf,cf,alp共4个系数。主要运用af,bf,alp三个系数参与粗轧前后滑计算，其中cf在表内数值均为0，无实际意义。程序内公式如下。(roll bite.cxx) 

```c
r = (p_hi - p_ho) / p_hi;

*p_f = f_table.f_af * pow(r, (double)f_table.f_bf);
```

### RSU1907_RmGapModel

相关参数：

- R1/R2和E1/E2轧机弹跳系数（C1.2.3…)
- 油膜厚度
- 工作辊磨损
- 热凸度补偿系数。

消化内容：

表内主要由参与粗轧辊缝计算的轧机弹跳系数、油膜厚度及工作辊磨损、热凸度补偿系数组成，通过公式计算出设定预摆辊缝值。程序内公式如下（roll gap.cxx)：

```c
 this->rgcal.gap = (this->s_m0() - this->s_oil0()) + this->rgcal.gap_0

                     + this->s_oil()

                     - this->s_rw()  + this->s_rh()

                     + p_s_zset;
```

### RSU1908_Widthdeformation and change model

相关参数：

- 表内根据各钢种组定义了R1/R2的宽展系数


- E1/E2的狗骨恢复系数及精轧机的宽展系数。

消化内容：

1. R1/R2平辊宽展量：平辊宽展量 主要与轧前宽度 、宽厚比 、轧辊半径R、压下量Draft及入口厚度 有关，其中宽厚比Wgratio多次出现在计算过程中，是计算平辊宽展量的一个重要因素，宽厚比越大，平辊宽展量 越大。其中 通过以下公式计算，其中spread参数通过C-TOOL表内的b0,b1,b2,b3计算。
2. 立辊狗骨恢复量：狗骨宽展恢复模型主要通过以下公式计算，其中与立辊入口宽度/厚度、立辊减宽量、立辊半径及立辊孔型系数grvmlt（若无孔型则不参与计算）及recv_mod系数有关。其中立辊孔型系数与在程序中通过立辊最大/最小直径及孔型角度计算出一个sgrv值，再通过sgrv值计算出agrv值，若dgrv＞agrv值，则输出grvmlt值，输出的值必须再grvmlt的范围[0.5,1.1]内，否则取范围内极值，recv_mod再系统内默认设定为1.0。
3. 精轧宽展计算：精轧宽展模型是建立在由仪表获得的大量宽度数据的回归线方程上，根据大量数据对不同钢种精轧机宽展情况设定不同宽展系数。

### RSU2101-07_SSPmodeltable

相关参数：

- 侧压机过压系数（over squeeze)
- 侧压机空过侧压量设定（常数）
- 侧压机狗骨恢复系数（a1,2…）
- 侧压机宽度修正系数（a1,2…）
- 侧压机出口厚度系数(b1,d1,d2,d3,e1,e2)
- 侧压机轧制力(Qp…）
- 开口度计算系数

消化内容：

over squeeze:侧压机过压系数，为了补偿第一道次平辊轧制后的宽展量侧压机空过常数：侧压机投用与否会经过Course-T,0,1,2多次计算进行条件判断，判断依据根据粗轧原料板坯宽度、成品宽度及空过侧压量数值侧压机出口厚度由侧压机出口宽度及击打后的板坯横截面面积通过公式计算得出，且还需计算出侧压机打后板坯的厚度峰值。其余参数均参与公式计算。

### RSU2108_SSPStep Press

相关参数：

内含步进侧压常数A1，A2，C1，C2，以及$a_1$、$a_2$、$b_1$、$b_2$步进侧压数常数。

消化内容：

步进侧压的主要作用是防止板坯在平辊轧制候宽度失宽。并且通过计算侧压机头尾短行程长度数值，减少板坯头尾宽度及板坯中部宽度的变化量，正常板坯一般步进侧压总量在0-40之间。其中A1，A2可理解为板坯头部短行程区域程度，C1，C2为尾部短行程长度。$a_1$、$a_2$、$b_1$、$b_2$参与step amount计算 ；

### RSU2110-11_SSPforward length and PR position

相关参数：

内含侧压机前进步距长度大小极值Lfwd max/Lfwd min及侧压机出口上下夹送辊辊缝调整余量系数Dptop/Dpbot。

消化内容：

SSP每次步进长度的最大最小值及出口夹送辊最大夹送辊力，作为SSP计算的极限检索条件。还包括SSP出口上/下夹送辊修正系数，通过辊修正系数可以计算出出口上、下夹送辊的辊缝。

### RSU2112_REfirst pass CFR

相关参数：

恒轧制力轧制时设定的轧制力参数表，该表根据板坯宽度Bs，侧压机减宽量△Bp及钢种组进行分类。

消化内容：

应用于侧压机侧压后第一道次立辊轧制，若R1/R1E空过则应用于R2/R2E。恒轧制力轧制，主要作用是保证立辊轧制后轧件边缘平滑。

### RSU2112_RECFR gap calculation parameter

相关参数：

恒轧制力轧制立辊补偿辊缝常数SeCFR。

消化内容：

恒轧制力轧制模式中立辊补偿常数，默认设定值为5mm。CFR第一道次轧制辊缝=侧压机头部端部宽度+CFR辊缝补偿值。

### RSU2114_SSPwidth learing parameter

相关参数：

侧压机宽度自学习系数，包含ZLP上下限数值及βzlp的系数值。

消化内容：

若RM第一道次出口宽度的实际值与计算值的差值在ZLP的上下限以内，那么自学习参数将被更新；若大于该上下限，则自学习参数不进行更新。更新公式Zlp新=Zlp旧+βZlp（Zlp新-Zlp旧）。

### RSU2401_ModelLearning

相关参数：

自学习参数，主要包括RM/RE轧制力，RM/RE扭矩的自学习系数，学习比例参数β，自学习系数上限/下线数值。

消化内容：

粗轧区域自学习类型分加法类型和乘法类型。其中宽度尺寸、宽展/狗骨恢复量等方面自学习方式为加法类型；RE/RM变形抗力，轧制力，扭矩计算等使用的是乘法类型。

### AWC01_NeckingComp

相关参数：

缩颈补偿参数表，按钢种组对板坯头端缩颈位置及缩颈时立辊辊缝参数表分类。

消化内容：

用来补偿卷取机切换至张力模式时造成的带钢头部冲击造成缩颈现象。该补偿在立辊最后一道次执行，对带钢头部留取余量。

### AWC0404_EdgerShortStroke

相关参数：

粗轧短行程调整表，按钢种组分类（SGC）。针对减宽量，成品宽度、该道次中间坯厚度进行分类。

消化内容：

表内分为头部短行程及尾部短行程两段。头尾各补偿5个点，分别为0.0，0.3, 0.6, 0.9, 1.2米。拉窄则给予正值补偿，超宽则给予负值补偿。补偿数值会影响该厚度中间坯对应的该道次头尾立辊辊缝，达到补偿目的。通常为了使头部宽度保持均匀需在各道立辊轧制时先将开口度加大，咬入时逐渐收小。而到了尾部不稳定端则将立辊辊缝慢慢增加。

### AWC0604_FFCoef

相关参数：

根据成品宽度及该道次入口中间坯厚度分类R1/R2，出口宽度前馈影响系数dbR/Dpr。

消化内容：

前馈控制分为FF-AWC(P)利用R1/R2的水平轧制力解决因温度原因造成的宽度波动偏差。FF-AWC（W）是由R1DW获得出口宽度数据，补偿R1轧制过程中的宽度偏差波动。具体包含前馈系数的公式尚未在文件或程序中找到。